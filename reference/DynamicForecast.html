<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Dynamic Forecast of Five Models and their Ensembles — DynamicForecast • Dyn4cast</title><!-- favicons --><link rel="icon" type="image/png" sizes="48x48" href="../favicon-48x48.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Dynamic Forecast of Five Models and their Ensembles — DynamicForecast"><meta property="og:description" content="The function estimates, predict and forecast time series data with models,
and also make subset forecasts within the length of the entire trend of the
data. The recognized models are lm, smooth spline, polynomial splines with or
without knots, quadratic polynomial, and ARIMA. The robust output include
the models' estimates, time-varying forecasts and plots  based on themes
from ggplot. The main attraction of this function is the use of the newly
introduced equal number of trend to forecast from the model.
The function takes daily, monthly and yearly data sets for now."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Dyn4cast</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">11.11.24</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/Dyn4cast.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/starting.html">Dyn4cast: Dynamic Modeling and Machine Learning Environment</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/JobNmadu/Dyn4cast/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Dynamic Forecast of Five Models and their Ensembles</h1>
    <small class="dont-index">Source: <a href="https://github.com/JobNmadu/Dyn4cast/blob/master/R/DynamicForecast.R" class="external-link"><code>R/DynamicForecast.R</code></a></small>
    <div class="hidden name"><code>DynamicForecast.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The function estimates, predict and forecast time series data with models,
and also make subset forecasts within the length of the entire trend of the
data. The recognized models are lm, smooth spline, polynomial splines with or
without knots, quadratic polynomial, and ARIMA. The robust output include
the models' estimates, time-varying forecasts and plots  based on themes
from ggplot. The main attraction of this function is the use of the newly
introduced <em>equal number of trend to forecast from the model</em>.
The function takes <code>daily, monthly and yearly data sets for now</code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">DynamicForecast</span><span class="op">(</span><span class="va">date</span>, <span class="va">series</span>, <span class="va">Trend</span>, <span class="va">Type</span>, <span class="va">MaximumDate</span>, x <span class="op">=</span> <span class="fl">0</span>, BREAKS <span class="op">=</span> <span class="fl">0</span>,</span>
<span> ORIGIN <span class="op">=</span> <span class="cn">NULL</span>, origin <span class="op">=</span> <span class="st">"1970-01-01"</span>, Length <span class="op">=</span> <span class="fl">0</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-date">date<a class="anchor" aria-label="anchor" href="#arg-date"></a></dt>
<dd><p>A vector containing the dates for which the data is collected.
Must be the same length with <code>series</code>. The date must be in 'YYYY-MM-DD'.
If the data is monthly series, the recognized date format is the last day of
the month of the dataset e.g. 2021-02-28. If the data is a yearly series,
the recognized date format is the last day of the year of the data set e.g.
2020-12-31. There is no format for Quarterly data for now.</p></dd>


<dt id="arg-series">series<a class="anchor" aria-label="anchor" href="#arg-series"></a></dt>
<dd><p>A vector containing data for estimation and forecasting.
Must be the same length with <code>date</code>.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>vector of optional dataset that is to be added to the model for
forecasting. The modeling and forecasting is still done if not provided.
Must be the same length with <code>series</code>.</p></dd>


<dt id="arg-breaks">BREAKS<a class="anchor" aria-label="anchor" href="#arg-breaks"></a></dt>
<dd><p>A vector of numbers indicating points of breaks for estimation
of the spline models.</p></dd>


<dt id="arg-maximumdate">MaximumDate<a class="anchor" aria-label="anchor" href="#arg-maximumdate"></a></dt>
<dd><p>The date indicating the maximum date (last date) in the
data frame, meaning that forecasting starts the next date following it.
The date must be a recognized date format. Note that for forecasting, the
date origin is set to 1970-01-01.</p></dd>


<dt id="arg-trend">Trend<a class="anchor" aria-label="anchor" href="#arg-trend"></a></dt>
<dd><p>The type of trend. There are three options
<strong>Day, Month and Year</strong>.</p></dd>


<dt id="arg-type">Type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>The type of response variable. There are two options
<strong>Continuous and Integer</strong>. For integer variable, the forecasts are
constrained between the minimum and maximum value of the response variable.</p></dd>


<dt id="arg-length">Length<a class="anchor" aria-label="anchor" href="#arg-length"></a></dt>
<dd><p>The length for which the forecast would be made. If not given,
would default to the length of the dataset i.e. sample size.</p></dd>


<dt id="arg-origin">origin<a class="anchor" aria-label="anchor" href="#arg-origin"></a></dt>
<dd><p>default date origin which is <strong>1970-01-01</strong> used to position
the date of data to properly <code>date</code> the forecasts.</p></dd>


<dt id="arg-origin">ORIGIN<a class="anchor" aria-label="anchor" href="#arg-origin"></a></dt>
<dd><p>date origin of the dataset and if different from <strong>origin</strong>
must be in the format <code>"YYYY-MM-DD"</code>. This is used to position the date of
the data to properly <code>date</code> the forecasts.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments that may be passed to the function. If the
maximum date is NULL which is is the default, it is set to the last date of
the <code>series</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list with the following components:</p>
<dl><dt><code>Spline without knots</code></dt>
<dd><p>The estimated spline model without the
breaks (knots).</p></dd>

<dt><code>Spline with knots</code></dt>
<dd><p>The estimated spline model with the breaks
(knots).</p></dd>

<dt><code>Smooth Spline</code></dt>
<dd><p>The smooth spline estimates.</p></dd>

<dt><code>ARIMA</code></dt>
<dd><p>Estimated Auto Regressive Integrated Moving Average
model.</p></dd>

<dt><code>Quadratic</code></dt>
<dd><p>The estimated quadratic polynomial model.</p></dd>

<dt><code>Ensembled with equal weight</code></dt>
<dd><p>Estimated Ensemble model with
equal weight given to each of the models. To get this, the fitted values of
each of the models is divided by the number of models and summed together.</p></dd>

<dt><code>Ensembled based on weight</code></dt>
<dd><p>Estimated Ensemble model based on
weight of each model. To do this, the fitted values of each model served as
independent variable and regressed against the trend with interaction among
the variables.</p></dd>

<dt><code>Ensembled based on summed weight</code></dt>
<dd><p>Estimated Ensemble model
based on summed weight of each model. To do this, the fitted values of each
model served as independent variable and is regressed against the trend.</p></dd>

<dt><code>Ensembled based on weight of fit</code></dt>
<dd><p>Estimated Ensemble model.
The fit of each model is measured by the rmse.</p></dd>

<dt><code>Unconstrained Forecast</code></dt>
<dd><p>The forecast if the response variable
is continuous. The number of forecasts is equivalent to the length of the
dataset (equal days forecast).</p></dd>

<dt><code>Constrained Forecast</code></dt>
<dd><p>The forecast if the response variable is
integer. The number of forecasts is equivalent to the length of the dataset
(equal days forecast).</p></dd>

<dt><code>RMSE</code></dt>
<dd><p>Root Mean Square Error (rmse) for each forecast.</p></dd>

<dt><code>Unconstrained forecast Plot</code></dt>
<dd><p>The combined plots of the
unconstrained forecasts using ggplot.</p></dd>

<dt><code>Constrained forecast Plot</code></dt>
<dd><p>The combined plots of the
constrained forecasts using ggplot.</p></dd>

<dt><code>Date</code></dt>
<dd><p>This is the date range for the forecast.</p></dd>

<dt><code>Fitted plot</code></dt>
<dd><p>This is the plot of the fitted models.</p></dd>

<dt><code>Estimated coefficients</code></dt>
<dd><p>This is the estimated coefficients of
the various models in the forecast.</p></dd>

</dl></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># library(readr)</span></span></span>
<span class="r-in"><span><span class="co"># COVID19$Date &lt;- zoo::as.Date(COVID19$Date, format = '%m/%d/%Y')</span></span></span>
<span class="r-in"><span><span class="co">#  #The date is formatted to R format</span></span></span>
<span class="r-in"><span><span class="co"># LEN &lt;- length(COVID19$Case)</span></span></span>
<span class="r-in"><span><span class="co"># Dss &lt;- seq(COVID19$Date[1], by = "day", length.out = LEN)</span></span></span>
<span class="r-in"><span><span class="co">#  #data length for forecast</span></span></span>
<span class="r-in"><span><span class="co"># ORIGIN = "2020-02-29"</span></span></span>
<span class="r-in"><span><span class="co"># lastdayfo21 &lt;- Dss[length(Dss)] # The maximum length # uncomment to run</span></span></span>
<span class="r-in"><span><span class="co"># Data &lt;- COVID19[COVID19$Date &lt;= lastdayfo21 - 28, ]</span></span></span>
<span class="r-in"><span><span class="co"># # desired length of forecast</span></span></span>
<span class="r-in"><span><span class="co"># BREAKS &lt;- c(70, 131, 173, 228, 274) # The default breaks for the data</span></span></span>
<span class="r-in"><span><span class="co"># DynamicForecast(date = Data$Date, series = Data$Case,</span></span></span>
<span class="r-in"><span><span class="co"># BREAKS = BREAKS, MaximumDate = "2021-02-10",</span></span></span>
<span class="r-in"><span><span class="co">#  Trend = "Day", Length = 0, Type = "Integer")</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># lastdayfo21 &lt;- Dss[length(Dss)]</span></span></span>
<span class="r-in"><span><span class="co"># Data &lt;- COVID19[COVID19$Date &lt;= lastdayfo21 - 14, ]</span></span></span>
<span class="r-in"><span><span class="co"># BREAKS = c(70, 131, 173, 228, 274)</span></span></span>
<span class="r-in"><span><span class="co"># DynamicForecast(date = Data$Date, series = Data$Case,</span></span></span>
<span class="r-in"><span><span class="co"># BREAKS = BREAKS , MaximumDate = "2021-02-10",</span></span></span>
<span class="r-in"><span><span class="co">#  Trend = "Day", Length = 0, Type = "Integer")</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Job Nmadu.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

